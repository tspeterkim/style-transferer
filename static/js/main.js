"use strict";$(function(){$(".styleImagePicker").imagepicker();var e=document.getElementById("output");e.width=500,e.height=500;e.getContext("2d");$("#transfer").click(function(){var e=$("#contentImageUrl").val(),t=e.split("/"),l=t[t.length-1];console.log(e),$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:e}),success:function(e){console.log("successfully downloaded content img: "+e.img)}});var n="instance/"+l,o="";if(""==$("#styleImageUrl").val())o="static/imgs/"+$(".styleImagePicker").val();else{var s=$("#styleImageUrl").val(),a=s.split("/"),i=a[a.length-1];$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:s}),success:function(e){console.log("successfully downloaded style img: "+e.img)}}),o="instance/"+i}var c=Number($("#contentSize").val()),g=Number($("#styleSize").val()),r=Number($("#contentWeight").val()),m=$("#styleWeights").val().split(",").map(Number),u=Number($("#tvWeight").val());console.log(n),console.log(o),console.log(c),console.log(g),console.log(r),console.log(m),console.log(u);var d={content_image:n,style_image:o,image_size:c,style_size:g,content_layer:3,content_weight:r,style_layers:[1,4,6,7],style_weights:m,tv_weight:u};$("#processing").show(),$.ajax({url:"/api/styletransfer",method:"POST",contentType:"application/json",data:JSON.stringify(d),success:function(e){$("#processing").hide();var t=e.result[0],l=document.getElementById("output"),n=l.getContext("2d"),o=new ImageData(new Uint8ClampedArray(e.result[1]),t[1],t[0]);n.putImageData(o,0,0)}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImltYWdlcGlja2VyIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsImNsaWNrIiwiY29udGVudGRvd25sb2FkdXJsIiwidmFsIiwiY29udGVudHVybGxpc3QiLCJzcGxpdCIsImNvbnRlbnRuYW1lIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJjb250ZW50VHlwZSIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VjY2VzcyIsImltZyIsImNvbnRlbnR1cmwiLCJzdHlsZXVybCIsInN0eWxlZG93bmxvYWR1cmwiLCJzdHlsZXVybGxpc3QiLCJzdHlsZW5hbWUiLCJpc2l6ZSIsIk51bWJlciIsInNzaXplIiwiY3ciLCJzd3MiLCJtYXAiLCJ0dyIsImlucHV0IiwiY29udGVudF9pbWFnZSIsInN0eWxlX2ltYWdlIiwiaW1hZ2Vfc2l6ZSIsInN0eWxlX3NpemUiLCJjb250ZW50X2xheWVyIiwiY29udGVudF93ZWlnaHQiLCJzdHlsZV9sYXllcnMiLCJzdHlsZV93ZWlnaHRzIiwidHZfd2VpZ2h0Iiwic2hvdyIsImhpZGUiLCJzaGFwZSIsInJlc3VsdCIsImN0eCIsImltYWdlRGF0YSIsIkltYWdlRGF0YSIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwicHV0SW1hZ2VEYXRhIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBQSxHQUFFLFdBQ0FBLEVBQUUscUJBQXFCQyxhQUV2QixJQUFJQyxHQUFTQyxTQUFTQyxlQUFlLFNBQ3JDRixHQUFPRyxNQUFRLElBQ2ZILEVBQU9JLE9BQVMsR0FDTkosR0FBT0ssV0FBVyxLQUU1QlAsR0FBRSxhQUFhUSxNQUFNLFdBRW5CLEdBQUlDLEdBQXFCVCxFQUFFLG9CQUFvQlUsTUFDM0NDLEVBQWlCRixFQUFtQkcsTUFBTSxLQUMxQ0MsRUFBY0YsRUFBZUEsRUFBZUcsT0FBUyxFQUN6REMsU0FBUUMsSUFBSVAsR0FDWlQsRUFBRWlCLE1BQ0FDLElBQUssb0JBQ0xDLE9BQVEsT0FDUkMsWUFBYSxtQkFDYkMsS0FBTUMsS0FBS0MsV0FBWUwsSUFBT1QsSUFDOUJlLFFBQVMsU0FBaUJILEdBQ3hCTixRQUFRQyxJQUFJLHdDQUEwQ0ssRUFBS0ksT0FHL0QsSUFBSUMsR0FBYSxZQUFjYixFQUUzQmMsRUFBVyxFQUNmLElBQWlDLElBQTdCM0IsRUFBRSxrQkFBa0JVLE1BQ3RCaUIsRUFBVyxlQUFpQjNCLEVBQUUscUJBQXFCVSxVQUM5QyxDQUNMLEdBQUlrQixHQUFtQjVCLEVBQUUsa0JBQWtCVSxNQUN2Q21CLEVBQWVELEVBQWlCaEIsTUFBTSxLQUN0Q2tCLEVBQVlELEVBQWFBLEVBQWFmLE9BQVMsRUFDbkRkLEdBQUVpQixNQUNBQyxJQUFLLG9CQUNMQyxPQUFRLE9BQ1JDLFlBQWEsbUJBQ2JDLEtBQU1DLEtBQUtDLFdBQVlMLElBQU9VLElBQzlCSixRQUFTLFNBQWlCSCxHQUN4Qk4sUUFBUUMsSUFBSSxzQ0FBd0NLLEVBQUtJLFFBRzdERSxFQUFXLFlBQWNHLEVBRzNCLEdBQUlDLEdBQVFDLE9BQU9oQyxFQUFFLGdCQUFnQlUsT0FDakN1QixFQUFRRCxPQUFPaEMsRUFBRSxjQUFjVSxPQUMvQndCLEVBQUtGLE9BQU9oQyxFQUFFLGtCQUFrQlUsT0FDaEN5QixFQUFNbkMsRUFBRSxpQkFBaUJVLE1BQU1FLE1BQU0sS0FBS3dCLElBQUlKLFFBQzlDSyxFQUFLTCxPQUFPaEMsRUFBRSxhQUFhVSxNQUUvQkssU0FBUUMsSUFBSVUsR0FDWlgsUUFBUUMsSUFBSVcsR0FDWlosUUFBUUMsSUFBSWUsR0FDWmhCLFFBQVFDLElBQUlpQixHQUNabEIsUUFBUUMsSUFBSWtCLEdBQ1puQixRQUFRQyxJQUFJbUIsR0FDWnBCLFFBQVFDLElBQUlxQixFQUVaLElBQUlDLElBQ0ZDLGNBQWlCYixFQUNqQmMsWUFBZWIsRUFDZmMsV0FBY1YsRUFDZFcsV0FBY1QsRUFDZFUsY0FBaUIsRUFDakJDLGVBQWtCVixFQUNsQlcsY0FBaUIsRUFBRyxFQUFHLEVBQUcsR0FDMUJDLGNBQWlCWCxFQUNqQlksVUFBYVYsRUFHZnJDLEdBQUUsZUFBZWdELE9BRWpCaEQsRUFBRWlCLE1BQ0FDLElBQUsscUJBQ0xDLE9BQVEsT0FDUkMsWUFBYSxtQkFDYkMsS0FBTUMsS0FBS0MsVUFBVWUsR0FDckJkLFFBQVMsU0FBaUJILEdBRXhCckIsRUFBRSxlQUFlaUQsTUFDakIsSUFBSUMsR0FBUTdCLEVBQUs4QixPQUFPLEdBRXBCakQsRUFBU0MsU0FBU0MsZUFBZSxVQUNqQ2dELEVBQU1sRCxFQUFPSyxXQUFXLE1BRXhCOEMsRUFBWSxHQUFJQyxXQUFVLEdBQUlDLG1CQUFrQmxDLEVBQUs4QixPQUFPLElBQUtELEVBQU0sR0FBSUEsRUFBTSxHQUNyRkUsR0FBSUksYUFBYUgsRUFBVyxFQUFHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAkKCcuc3R5bGVJbWFnZVBpY2tlcicpLmltYWdlcGlja2VyKCk7XG5cbiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKTtcbiAgY2FudmFzLndpZHRoID0gNTAwO1xuICBjYW52YXMuaGVpZ2h0ID0gNTAwO1xuICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgJCgnI3RyYW5zZmVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGNvbnRlbnRkb3dubG9hZHVybCA9ICQoJyNjb250ZW50SW1hZ2VVcmwnKS52YWwoKTtcbiAgICB2YXIgY29udGVudHVybGxpc3QgPSBjb250ZW50ZG93bmxvYWR1cmwuc3BsaXQoJy8nKTtcbiAgICB2YXIgY29udGVudG5hbWUgPSBjb250ZW50dXJsbGlzdFtjb250ZW50dXJsbGlzdC5sZW5ndGggLSAxXTtcbiAgICBjb25zb2xlLmxvZyhjb250ZW50ZG93bmxvYWR1cmwpO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcvYXBpL2Rvd25sb2FkX2ltZycsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7ICd1cmwnOiBjb250ZW50ZG93bmxvYWR1cmwgfSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3NmdWxseSBkb3dubG9hZGVkIGNvbnRlbnQgaW1nOiAnICsgZGF0YS5pbWcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBjb250ZW50dXJsID0gJ2luc3RhbmNlLycgKyBjb250ZW50bmFtZTtcblxuICAgIHZhciBzdHlsZXVybCA9ICcnO1xuICAgIGlmICgkKCcjc3R5bGVJbWFnZVVybCcpLnZhbCgpID09ICcnKSB7XG4gICAgICBzdHlsZXVybCA9ICdzdGF0aWMvaW1ncy8nICsgJChcIi5zdHlsZUltYWdlUGlja2VyXCIpLnZhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3R5bGVkb3dubG9hZHVybCA9ICQoJyNzdHlsZUltYWdlVXJsJykudmFsKCk7XG4gICAgICB2YXIgc3R5bGV1cmxsaXN0ID0gc3R5bGVkb3dubG9hZHVybC5zcGxpdCgnLycpO1xuICAgICAgdmFyIHN0eWxlbmFtZSA9IHN0eWxldXJsbGlzdFtzdHlsZXVybGxpc3QubGVuZ3RoIC0gMV07XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvYXBpL2Rvd25sb2FkX2ltZycsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7ICd1cmwnOiBzdHlsZWRvd25sb2FkdXJsIH0pLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY2Vzc2Z1bGx5IGRvd25sb2FkZWQgc3R5bGUgaW1nOiAnICsgZGF0YS5pbWcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN0eWxldXJsID0gJ2luc3RhbmNlLycgKyBzdHlsZW5hbWU7XG4gICAgfVxuXG4gICAgdmFyIGlzaXplID0gTnVtYmVyKCQoJyNjb250ZW50U2l6ZScpLnZhbCgpKTtcbiAgICB2YXIgc3NpemUgPSBOdW1iZXIoJCgnI3N0eWxlU2l6ZScpLnZhbCgpKTtcbiAgICB2YXIgY3cgPSBOdW1iZXIoJCgnI2NvbnRlbnRXZWlnaHQnKS52YWwoKSk7XG4gICAgdmFyIHN3cyA9ICQoJyNzdHlsZVdlaWdodHMnKS52YWwoKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgIHZhciB0dyA9IE51bWJlcigkKCcjdHZXZWlnaHQnKS52YWwoKSk7XG5cbiAgICBjb25zb2xlLmxvZyhjb250ZW50dXJsKTtcbiAgICBjb25zb2xlLmxvZyhzdHlsZXVybCk7XG4gICAgY29uc29sZS5sb2coaXNpemUpO1xuICAgIGNvbnNvbGUubG9nKHNzaXplKTtcbiAgICBjb25zb2xlLmxvZyhjdyk7XG4gICAgY29uc29sZS5sb2coc3dzKTtcbiAgICBjb25zb2xlLmxvZyh0dyk7XG5cbiAgICB2YXIgaW5wdXQgPSB7XG4gICAgICAnY29udGVudF9pbWFnZSc6IGNvbnRlbnR1cmwsXG4gICAgICAnc3R5bGVfaW1hZ2UnOiBzdHlsZXVybCxcbiAgICAgICdpbWFnZV9zaXplJzogaXNpemUsXG4gICAgICAnc3R5bGVfc2l6ZSc6IHNzaXplLFxuICAgICAgJ2NvbnRlbnRfbGF5ZXInOiAzLFxuICAgICAgJ2NvbnRlbnRfd2VpZ2h0JzogY3csXG4gICAgICAnc3R5bGVfbGF5ZXJzJzogWzEsIDQsIDYsIDddLFxuICAgICAgJ3N0eWxlX3dlaWdodHMnOiBzd3MsXG4gICAgICAndHZfd2VpZ2h0JzogdHdcbiAgICB9O1xuXG4gICAgJCgnI3Byb2Nlc3NpbmcnKS5zaG93KCk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL2FwaS9zdHlsZXRyYW5zZmVyJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGlucHV0KSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLnJlc3VsdCk7XG4gICAgICAgICQoJyNwcm9jZXNzaW5nJykuaGlkZSgpO1xuICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnJlc3VsdFswXTtcblxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpO1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRhdGEucmVzdWx0WzFdKSwgc2hhcGVbMV0sIHNoYXBlWzBdKTtcbiAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pOyJdfQ==
