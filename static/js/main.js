"use strict";$(function(){$(".styleImagePicker").imagepicker();var e=document.getElementById("output");e.width=500,e.height=500;e.getContext("2d");$("#transfer").click(function(){var e="";if(""==$("#contentImageUrl").val())e="static/imgs/hollywood.jpg";else{var t=$("#contentImageUrl").val(),l=t.split("/"),o=l[l.length-1];console.log(t),$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:t}),success:function(e){console.log("successfully downloaded content img: "+e.img)}}),e="instance/"+o}var n="";if(""==$("#styleImageUrl").val())n="static/imgs/"+$(".styleImagePicker").val();else{var a=$("#styleImageUrl").val(),s=a.split("/"),i=s[s.length-1];$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:a}),success:function(e){console.log("successfully downloaded style img: "+e.img)}}),n="instance/"+i}var c=Number($("#contentSize").val()),g=Number($("#styleSize").val()),r=Number($("#contentWeight").val()),m=$("#styleWeights").val().split(",").map(Number),u=Number($("#tvWeight").val());console.log(e),console.log(n),console.log(c),console.log(g),console.log(r),console.log(m),console.log(u);var d={content_image:e,style_image:n,image_size:c,style_size:g,content_layer:3,content_weight:r,style_layers:[1,4,6,7],style_weights:m,tv_weight:u};$("#processing").show(),$.ajax({url:"/api/styletransfer",method:"POST",contentType:"application/json",data:JSON.stringify(d),success:function(e){$("#processing").hide();var t=e.result[0],l=document.getElementById("output"),o=l.getContext("2d"),n=new ImageData(new Uint8ClampedArray(e.result[1]),t[1],t[0]);o.putImageData(n,0,0)}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImltYWdlcGlja2VyIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsImNsaWNrIiwiY29udGVudHVybCIsInZhbCIsImNvbnRlbnRkb3dubG9hZHVybCIsImNvbnRlbnR1cmxsaXN0Iiwic3BsaXQiLCJjb250ZW50bmFtZSIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidXJsIiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJpbWciLCJzdHlsZXVybCIsInN0eWxlZG93bmxvYWR1cmwiLCJzdHlsZXVybGxpc3QiLCJzdHlsZW5hbWUiLCJpc2l6ZSIsIk51bWJlciIsInNzaXplIiwiY3ciLCJzd3MiLCJtYXAiLCJ0dyIsImlucHV0IiwiY29udGVudF9pbWFnZSIsInN0eWxlX2ltYWdlIiwiaW1hZ2Vfc2l6ZSIsInN0eWxlX3NpemUiLCJjb250ZW50X2xheWVyIiwiY29udGVudF93ZWlnaHQiLCJzdHlsZV9sYXllcnMiLCJzdHlsZV93ZWlnaHRzIiwidHZfd2VpZ2h0Iiwic2hvdyIsImhpZGUiLCJzaGFwZSIsInJlc3VsdCIsImN0eCIsImltYWdlRGF0YSIsIkltYWdlRGF0YSIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwicHV0SW1hZ2VEYXRhIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBQSxHQUFFLFdBQ0FBLEVBQUUscUJBQXFCQyxhQUV2QixJQUFJQyxHQUFTQyxTQUFTQyxlQUFlLFNBQ3JDRixHQUFPRyxNQUFRLElBQ2ZILEVBQU9JLE9BQVMsR0FDTkosR0FBT0ssV0FBVyxLQUU1QlAsR0FBRSxhQUFhUSxNQUFNLFdBRW5CLEdBQUlDLEdBQWEsRUFDakIsSUFBbUMsSUFBL0JULEVBQUUsb0JBQW9CVSxNQUN4QkQsRUFBYSxnQ0FDUixDQUNMLEdBQUlFLEdBQXFCWCxFQUFFLG9CQUFvQlUsTUFDM0NFLEVBQWlCRCxFQUFtQkUsTUFBTSxLQUMxQ0MsRUFBY0YsRUFBZUEsRUFBZUcsT0FBUyxFQUN6REMsU0FBUUMsSUFBSU4sR0FDWlgsRUFBRWtCLE1BQ0FDLElBQUssb0JBQ0xDLE9BQVEsT0FDUkMsWUFBYSxtQkFDYkMsS0FBTUMsS0FBS0MsV0FBWUwsSUFBT1IsSUFDOUJjLFFBQVMsU0FBaUJILEdBQ3hCTixRQUFRQyxJQUFJLHdDQUEwQ0ssRUFBS0ksUUFHL0RqQixFQUFhLFlBQWNLLEVBRzdCLEdBQUlhLEdBQVcsRUFDZixJQUFpQyxJQUE3QjNCLEVBQUUsa0JBQWtCVSxNQUN0QmlCLEVBQVcsZUFBaUIzQixFQUFFLHFCQUFxQlUsVUFDOUMsQ0FDTCxHQUFJa0IsR0FBbUI1QixFQUFFLGtCQUFrQlUsTUFDdkNtQixFQUFlRCxFQUFpQmYsTUFBTSxLQUN0Q2lCLEVBQVlELEVBQWFBLEVBQWFkLE9BQVMsRUFDbkRmLEdBQUVrQixNQUNBQyxJQUFLLG9CQUNMQyxPQUFRLE9BQ1JDLFlBQWEsbUJBQ2JDLEtBQU1DLEtBQUtDLFdBQVlMLElBQU9TLElBQzlCSCxRQUFTLFNBQWlCSCxHQUN4Qk4sUUFBUUMsSUFBSSxzQ0FBd0NLLEVBQUtJLFFBRzdEQyxFQUFXLFlBQWNHLEVBRzNCLEdBQUlDLEdBQVFDLE9BQU9oQyxFQUFFLGdCQUFnQlUsT0FDakN1QixFQUFRRCxPQUFPaEMsRUFBRSxjQUFjVSxPQUMvQndCLEVBQUtGLE9BQU9oQyxFQUFFLGtCQUFrQlUsT0FDaEN5QixFQUFNbkMsRUFBRSxpQkFBaUJVLE1BQU1HLE1BQU0sS0FBS3VCLElBQUlKLFFBQzlDSyxFQUFLTCxPQUFPaEMsRUFBRSxhQUFhVSxNQUUvQk0sU0FBUUMsSUFBSVIsR0FDWk8sUUFBUUMsSUFBSVUsR0FDWlgsUUFBUUMsSUFBSWMsR0FDWmYsUUFBUUMsSUFBSWdCLEdBQ1pqQixRQUFRQyxJQUFJaUIsR0FDWmxCLFFBQVFDLElBQUlrQixHQUNabkIsUUFBUUMsSUFBSW9CLEVBRVosSUFBSUMsSUFDRkMsY0FBaUI5QixFQUNqQitCLFlBQWViLEVBQ2ZjLFdBQWNWLEVBQ2RXLFdBQWNULEVBQ2RVLGNBQWlCLEVBQ2pCQyxlQUFrQlYsRUFDbEJXLGNBQWlCLEVBQUcsRUFBRyxFQUFHLEdBQzFCQyxjQUFpQlgsRUFDakJZLFVBQWFWLEVBR2ZyQyxHQUFFLGVBQWVnRCxPQUVqQmhELEVBQUVrQixNQUNBQyxJQUFLLHFCQUNMQyxPQUFRLE9BQ1JDLFlBQWEsbUJBQ2JDLEtBQU1DLEtBQUtDLFVBQVVjLEdBQ3JCYixRQUFTLFNBQWlCSCxHQUV4QnRCLEVBQUUsZUFBZWlELE1BQ2pCLElBQUlDLEdBQVE1QixFQUFLNkIsT0FBTyxHQUVwQmpELEVBQVNDLFNBQVNDLGVBQWUsVUFDakNnRCxFQUFNbEQsRUFBT0ssV0FBVyxNQUV4QjhDLEVBQVksR0FBSUMsV0FBVSxHQUFJQyxtQkFBa0JqQyxFQUFLNkIsT0FBTyxJQUFLRCxFQUFNLEdBQUlBLEVBQU0sR0FDckZFLEdBQUlJLGFBQWFILEVBQVcsRUFBRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgJCgnLnN0eWxlSW1hZ2VQaWNrZXInKS5pbWFnZXBpY2tlcigpO1xuXG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG4gIGNhbnZhcy53aWR0aCA9IDUwMDtcbiAgY2FudmFzLmhlaWdodCA9IDUwMDtcbiAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICQoJyN0cmFuc2ZlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBjb250ZW50dXJsID0gJyc7XG4gICAgaWYgKCQoJyNjb250ZW50SW1hZ2VVcmwnKS52YWwoKSA9PSAnJykge1xuICAgICAgY29udGVudHVybCA9ICdzdGF0aWMvaW1ncy9ob2xseXdvb2QuanBnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRlbnRkb3dubG9hZHVybCA9ICQoJyNjb250ZW50SW1hZ2VVcmwnKS52YWwoKTtcbiAgICAgIHZhciBjb250ZW50dXJsbGlzdCA9IGNvbnRlbnRkb3dubG9hZHVybC5zcGxpdCgnLycpO1xuICAgICAgdmFyIGNvbnRlbnRuYW1lID0gY29udGVudHVybGxpc3RbY29udGVudHVybGxpc3QubGVuZ3RoIC0gMV07XG4gICAgICBjb25zb2xlLmxvZyhjb250ZW50ZG93bmxvYWR1cmwpO1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL2FwaS9kb3dubG9hZF9pbWcnLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyAndXJsJzogY29udGVudGRvd25sb2FkdXJsIH0pLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnc3VjY2Vzc2Z1bGx5IGRvd25sb2FkZWQgY29udGVudCBpbWc6ICcgKyBkYXRhLmltZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29udGVudHVybCA9ICdpbnN0YW5jZS8nICsgY29udGVudG5hbWU7XG4gICAgfVxuXG4gICAgdmFyIHN0eWxldXJsID0gJyc7XG4gICAgaWYgKCQoJyNzdHlsZUltYWdlVXJsJykudmFsKCkgPT0gJycpIHtcbiAgICAgIHN0eWxldXJsID0gJ3N0YXRpYy9pbWdzLycgKyAkKFwiLnN0eWxlSW1hZ2VQaWNrZXJcIikudmFsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdHlsZWRvd25sb2FkdXJsID0gJCgnI3N0eWxlSW1hZ2VVcmwnKS52YWwoKTtcbiAgICAgIHZhciBzdHlsZXVybGxpc3QgPSBzdHlsZWRvd25sb2FkdXJsLnNwbGl0KCcvJyk7XG4gICAgICB2YXIgc3R5bGVuYW1lID0gc3R5bGV1cmxsaXN0W3N0eWxldXJsbGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJy9hcGkvZG93bmxvYWRfaW1nJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgJ3VybCc6IHN0eWxlZG93bmxvYWR1cmwgfSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzZnVsbHkgZG93bmxvYWRlZCBzdHlsZSBpbWc6ICcgKyBkYXRhLmltZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc3R5bGV1cmwgPSAnaW5zdGFuY2UvJyArIHN0eWxlbmFtZTtcbiAgICB9XG5cbiAgICB2YXIgaXNpemUgPSBOdW1iZXIoJCgnI2NvbnRlbnRTaXplJykudmFsKCkpO1xuICAgIHZhciBzc2l6ZSA9IE51bWJlcigkKCcjc3R5bGVTaXplJykudmFsKCkpO1xuICAgIHZhciBjdyA9IE51bWJlcigkKCcjY29udGVudFdlaWdodCcpLnZhbCgpKTtcbiAgICB2YXIgc3dzID0gJCgnI3N0eWxlV2VpZ2h0cycpLnZhbCgpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgdmFyIHR3ID0gTnVtYmVyKCQoJyN0dldlaWdodCcpLnZhbCgpKTtcblxuICAgIGNvbnNvbGUubG9nKGNvbnRlbnR1cmwpO1xuICAgIGNvbnNvbGUubG9nKHN0eWxldXJsKTtcbiAgICBjb25zb2xlLmxvZyhpc2l6ZSk7XG4gICAgY29uc29sZS5sb2coc3NpemUpO1xuICAgIGNvbnNvbGUubG9nKGN3KTtcbiAgICBjb25zb2xlLmxvZyhzd3MpO1xuICAgIGNvbnNvbGUubG9nKHR3KTtcblxuICAgIHZhciBpbnB1dCA9IHtcbiAgICAgICdjb250ZW50X2ltYWdlJzogY29udGVudHVybCxcbiAgICAgICdzdHlsZV9pbWFnZSc6IHN0eWxldXJsLFxuICAgICAgJ2ltYWdlX3NpemUnOiBpc2l6ZSxcbiAgICAgICdzdHlsZV9zaXplJzogc3NpemUsXG4gICAgICAnY29udGVudF9sYXllcic6IDMsXG4gICAgICAnY29udGVudF93ZWlnaHQnOiBjdyxcbiAgICAgICdzdHlsZV9sYXllcnMnOiBbMSwgNCwgNiwgN10sXG4gICAgICAnc3R5bGVfd2VpZ2h0cyc6IHN3cyxcbiAgICAgICd0dl93ZWlnaHQnOiB0d1xuICAgIH07XG5cbiAgICAkKCcjcHJvY2Vzc2luZycpLnNob3coKTtcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcvYXBpL3N0eWxldHJhbnNmZXInLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaW5wdXQpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEucmVzdWx0KTtcbiAgICAgICAgJCgnI3Byb2Nlc3NpbmcnKS5oaWRlKCk7XG4gICAgICAgIHZhciBzaGFwZSA9IGRhdGEucmVzdWx0WzBdO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoZGF0YS5yZXN1bHRbMV0pLCBzaGFwZVsxXSwgc2hhcGVbMF0pO1xuICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7Il19
