"use strict";$(function(){$(".styleImagePicker").imagepicker();var e=document.getElementById("output");e.width=500,e.height=500;e.getContext("2d");$("#transfer").click(function(){function e(){$.ajax({url:"/api/checkTransferStatus",method:"GET",contentType:"application/json",success:function(e){if(null!=e.result){$("#processing").hide();var t=e.result[0],l=document.getElementById("output"),n=l.getContext("2d");v=new ImageData(new Uint8ClampedArray(e.result[1]),t[1],t[0]),n.putImageData(v,0,0)}},complete:function(t){null!=v?(clearTimeout(y),v=null):setTimeout(e,5e3)}})}var t="";if(""==$("#contentImageUrl").val())t="static/imgs/hollywood.jpg";else{var l=$("#contentImageUrl").val(),n=l.split("/"),o=n[n.length-1];console.log(l),$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:l}),success:function(e){console.log("successfully downloaded content img: "+e.img)}}),t="instance/"+o}var s="";if(""==$("#styleImageUrl").val())s="static/imgs/"+$(".styleImagePicker").val();else{var a=$("#styleImageUrl").val(),i=a.split("/"),c=i[i.length-1];$.ajax({url:"/api/download_img",method:"POST",contentType:"application/json",data:JSON.stringify({url:a}),success:function(e){console.log("successfully downloaded style img: "+e.img)}}),s="instance/"+c}var g=Number($("#contentSize").val()),r=Number($("#styleSize").val()),u=Number($("#contentWeight").val()),m=$("#styleWeights").val().split(",").map(Number),p=Number($("#tvWeight").val());console.log(t),console.log(s),console.log(g),console.log(r),console.log(u),console.log(m),console.log(p);var d={content_image:t,style_image:s,image_size:g,style_size:r,content_layer:3,content_weight:u,style_layers:[1,4,6,7],style_weights:m,tv_weight:p};$.ajax({url:"/api/styletransfer",method:"POST",contentType:"application/json",data:JSON.stringify(d),success:function(e){console.log(e.result)}}),$("#processing").show();var y=setTimeout(e,5e3),v=null})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImltYWdlcGlja2VyIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsImNsaWNrIiwiY2hlY2tUcmFuc2ZlclN0YXR1cyIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJjb250ZW50VHlwZSIsInN1Y2Nlc3MiLCJkYXRhIiwicmVzdWx0IiwiaGlkZSIsInNoYXBlIiwiY3R4IiwiaW1hZ2VEYXRhIiwiSW1hZ2VEYXRhIiwiVWludDhDbGFtcGVkQXJyYXkiLCJwdXRJbWFnZURhdGEiLCJjb21wbGV0ZSIsImNsZWFyVGltZW91dCIsImludGVydmFsSUQiLCJzZXRUaW1lb3V0IiwiY29udGVudHVybCIsInZhbCIsImNvbnRlbnRkb3dubG9hZHVybCIsImNvbnRlbnR1cmxsaXN0Iiwic3BsaXQiLCJjb250ZW50bmFtZSIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiaW1nIiwic3R5bGV1cmwiLCJzdHlsZWRvd25sb2FkdXJsIiwic3R5bGV1cmxsaXN0Iiwic3R5bGVuYW1lIiwiaXNpemUiLCJOdW1iZXIiLCJzc2l6ZSIsImN3Iiwic3dzIiwibWFwIiwidHciLCJpbnB1dCIsImNvbnRlbnRfaW1hZ2UiLCJzdHlsZV9pbWFnZSIsImltYWdlX3NpemUiLCJzdHlsZV9zaXplIiwiY29udGVudF9sYXllciIsImNvbnRlbnRfd2VpZ2h0Iiwic3R5bGVfbGF5ZXJzIiwic3R5bGVfd2VpZ2h0cyIsInR2X3dlaWdodCIsInNob3ciXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLEdBQUUsV0FDQUEsRUFBRSxxQkFBcUJDLGFBRXZCLElBQUlDLEdBQVNDLFNBQVNDLGVBQWUsU0FDckNGLEdBQU9HLE1BQVEsSUFDZkgsRUFBT0ksT0FBUyxHQUNOSixHQUFPSyxXQUFXLEtBRTVCUCxHQUFFLGFBQWFRLE1BQU0sV0F3Rm5CLFFBQVNDLEtBQ1BULEVBQUVVLE1BQ0FDLElBQUssMkJBQ0xDLE9BQVEsTUFDUkMsWUFBYSxtQkFDYkMsUUFBUyxTQUFpQkMsR0FDeEIsR0FBbUIsTUFBZkEsRUFBS0MsT0FBZ0IsQ0FDdkJoQixFQUFFLGVBQWVpQixNQUNqQixJQUFJQyxHQUFRSCxFQUFLQyxPQUFPLEdBRXBCZCxFQUFTQyxTQUFTQyxlQUFlLFVBQ2pDZSxFQUFNakIsRUFBT0ssV0FBVyxLQUU1QmEsR0FBWSxHQUFJQyxXQUFVLEdBQUlDLG1CQUFrQlAsRUFBS0MsT0FBTyxJQUFLRSxFQUFNLEdBQUlBLEVBQU0sSUFDakZDLEVBQUlJLGFBQWFILEVBQVcsRUFBRyxLQUduQ0ksU0FBVSxTQUFrQlQsR0FFVCxNQUFiSyxHQUNGSyxhQUFhQyxHQUNiTixFQUFZLE1BRVpPLFdBQVdsQixFQUFxQixRQTdHeEMsR0FBSW1CLEdBQWEsRUFDakIsSUFBbUMsSUFBL0I1QixFQUFFLG9CQUFvQjZCLE1BQ3hCRCxFQUFhLGdDQUNSLENBQ0wsR0FBSUUsR0FBcUI5QixFQUFFLG9CQUFvQjZCLE1BQzNDRSxFQUFpQkQsRUFBbUJFLE1BQU0sS0FDMUNDLEVBQWNGLEVBQWVBLEVBQWVHLE9BQVMsRUFDekRDLFNBQVFDLElBQUlOLEdBQ1o5QixFQUFFVSxNQUNBQyxJQUFLLG9CQUNMQyxPQUFRLE9BQ1JDLFlBQWEsbUJBQ2JFLEtBQU1zQixLQUFLQyxXQUFZM0IsSUFBT21CLElBQzlCaEIsUUFBUyxTQUFpQkMsR0FDeEJvQixRQUFRQyxJQUFJLHdDQUEwQ3JCLEVBQUt3QixRQUcvRFgsRUFBYSxZQUFjSyxFQUc3QixHQUFJTyxHQUFXLEVBQ2YsSUFBaUMsSUFBN0J4QyxFQUFFLGtCQUFrQjZCLE1BQ3RCVyxFQUFXLGVBQWlCeEMsRUFBRSxxQkFBcUI2QixVQUM5QyxDQUNMLEdBQUlZLEdBQW1CekMsRUFBRSxrQkFBa0I2QixNQUN2Q2EsRUFBZUQsRUFBaUJULE1BQU0sS0FDdENXLEVBQVlELEVBQWFBLEVBQWFSLE9BQVMsRUFDbkRsQyxHQUFFVSxNQUNBQyxJQUFLLG9CQUNMQyxPQUFRLE9BQ1JDLFlBQWEsbUJBQ2JFLEtBQU1zQixLQUFLQyxXQUFZM0IsSUFBTzhCLElBQzlCM0IsUUFBUyxTQUFpQkMsR0FDeEJvQixRQUFRQyxJQUFJLHNDQUF3Q3JCLEVBQUt3QixRQUc3REMsRUFBVyxZQUFjRyxFQUczQixHQUFJQyxHQUFRQyxPQUFPN0MsRUFBRSxnQkFBZ0I2QixPQUNqQ2lCLEVBQVFELE9BQU83QyxFQUFFLGNBQWM2QixPQUMvQmtCLEVBQUtGLE9BQU83QyxFQUFFLGtCQUFrQjZCLE9BQ2hDbUIsRUFBTWhELEVBQUUsaUJBQWlCNkIsTUFBTUcsTUFBTSxLQUFLaUIsSUFBSUosUUFDOUNLLEVBQUtMLE9BQU83QyxFQUFFLGFBQWE2QixNQUUvQk0sU0FBUUMsSUFBSVIsR0FDWk8sUUFBUUMsSUFBSUksR0FDWkwsUUFBUUMsSUFBSVEsR0FDWlQsUUFBUUMsSUFBSVUsR0FDWlgsUUFBUUMsSUFBSVcsR0FDWlosUUFBUUMsSUFBSVksR0FDWmIsUUFBUUMsSUFBSWMsRUFFWixJQUFJQyxJQUNGQyxjQUFpQnhCLEVBQ2pCeUIsWUFBZWIsRUFDZmMsV0FBY1YsRUFDZFcsV0FBY1QsRUFDZFUsY0FBaUIsRUFDakJDLGVBQWtCVixFQUNsQlcsY0FBaUIsRUFBRyxFQUFHLEVBQUcsR0FDMUJDLGNBQWlCWCxFQUNqQlksVUFBYVYsRUFHZmxELEdBQUVVLE1BQ0FDLElBQUsscUJBQ0xDLE9BQVEsT0FDUkMsWUFBYSxtQkFDYkUsS0FBTXNCLEtBQUtDLFVBQVVhLEdBQ3JCckMsUUFBUyxTQUFpQkMsR0FDeEJvQixRQUFRQyxJQUFJckIsRUFBS0MsV0FZckJoQixFQUFFLGVBQWU2RCxNQUNqQixJQUFJbkMsR0FBYUMsV0FBV2xCLEVBQXFCLEtBQzdDVyxFQUFZIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAkKCcuc3R5bGVJbWFnZVBpY2tlcicpLmltYWdlcGlja2VyKCk7XG5cbiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKTtcbiAgY2FudmFzLndpZHRoID0gNTAwO1xuICBjYW52YXMuaGVpZ2h0ID0gNTAwO1xuICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgJCgnI3RyYW5zZmVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGNvbnRlbnR1cmwgPSAnJztcbiAgICBpZiAoJCgnI2NvbnRlbnRJbWFnZVVybCcpLnZhbCgpID09ICcnKSB7XG4gICAgICBjb250ZW50dXJsID0gJ3N0YXRpYy9pbWdzL2hvbGx5d29vZC5qcGcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29udGVudGRvd25sb2FkdXJsID0gJCgnI2NvbnRlbnRJbWFnZVVybCcpLnZhbCgpO1xuICAgICAgdmFyIGNvbnRlbnR1cmxsaXN0ID0gY29udGVudGRvd25sb2FkdXJsLnNwbGl0KCcvJyk7XG4gICAgICB2YXIgY29udGVudG5hbWUgPSBjb250ZW50dXJsbGlzdFtjb250ZW50dXJsbGlzdC5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnNvbGUubG9nKGNvbnRlbnRkb3dubG9hZHVybCk7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvYXBpL2Rvd25sb2FkX2ltZycsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7ICd1cmwnOiBjb250ZW50ZG93bmxvYWR1cmwgfSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzZnVsbHkgZG93bmxvYWRlZCBjb250ZW50IGltZzogJyArIGRhdGEuaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250ZW50dXJsID0gJ2luc3RhbmNlLycgKyBjb250ZW50bmFtZTtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGV1cmwgPSAnJztcbiAgICBpZiAoJCgnI3N0eWxlSW1hZ2VVcmwnKS52YWwoKSA9PSAnJykge1xuICAgICAgc3R5bGV1cmwgPSAnc3RhdGljL2ltZ3MvJyArICQoXCIuc3R5bGVJbWFnZVBpY2tlclwiKS52YWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0eWxlZG93bmxvYWR1cmwgPSAkKCcjc3R5bGVJbWFnZVVybCcpLnZhbCgpO1xuICAgICAgdmFyIHN0eWxldXJsbGlzdCA9IHN0eWxlZG93bmxvYWR1cmwuc3BsaXQoJy8nKTtcbiAgICAgIHZhciBzdHlsZW5hbWUgPSBzdHlsZXVybGxpc3Rbc3R5bGV1cmxsaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL2FwaS9kb3dubG9hZF9pbWcnLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyAndXJsJzogc3R5bGVkb3dubG9hZHVybCB9KSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3NmdWxseSBkb3dubG9hZGVkIHN0eWxlIGltZzogJyArIGRhdGEuaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzdHlsZXVybCA9ICdpbnN0YW5jZS8nICsgc3R5bGVuYW1lO1xuICAgIH1cblxuICAgIHZhciBpc2l6ZSA9IE51bWJlcigkKCcjY29udGVudFNpemUnKS52YWwoKSk7XG4gICAgdmFyIHNzaXplID0gTnVtYmVyKCQoJyNzdHlsZVNpemUnKS52YWwoKSk7XG4gICAgdmFyIGN3ID0gTnVtYmVyKCQoJyNjb250ZW50V2VpZ2h0JykudmFsKCkpO1xuICAgIHZhciBzd3MgPSAkKCcjc3R5bGVXZWlnaHRzJykudmFsKCkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICB2YXIgdHcgPSBOdW1iZXIoJCgnI3R2V2VpZ2h0JykudmFsKCkpO1xuXG4gICAgY29uc29sZS5sb2coY29udGVudHVybCk7XG4gICAgY29uc29sZS5sb2coc3R5bGV1cmwpO1xuICAgIGNvbnNvbGUubG9nKGlzaXplKTtcbiAgICBjb25zb2xlLmxvZyhzc2l6ZSk7XG4gICAgY29uc29sZS5sb2coY3cpO1xuICAgIGNvbnNvbGUubG9nKHN3cyk7XG4gICAgY29uc29sZS5sb2codHcpO1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgICAgJ2NvbnRlbnRfaW1hZ2UnOiBjb250ZW50dXJsLFxuICAgICAgJ3N0eWxlX2ltYWdlJzogc3R5bGV1cmwsXG4gICAgICAnaW1hZ2Vfc2l6ZSc6IGlzaXplLFxuICAgICAgJ3N0eWxlX3NpemUnOiBzc2l6ZSxcbiAgICAgICdjb250ZW50X2xheWVyJzogMyxcbiAgICAgICdjb250ZW50X3dlaWdodCc6IGN3LFxuICAgICAgJ3N0eWxlX2xheWVycyc6IFsxLCA0LCA2LCA3XSxcbiAgICAgICdzdHlsZV93ZWlnaHRzJzogc3dzLFxuICAgICAgJ3R2X3dlaWdodCc6IHR3XG4gICAgfTtcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcvYXBpL3N0eWxldHJhbnNmZXInLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaW5wdXQpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEucmVzdWx0KTtcbiAgICAgICAgLy8gJCgnI3Byb2Nlc3NpbmcnKS5oaWRlKCk7XG4gICAgICAgIC8vIHZhciBzaGFwZSA9IGRhdGEucmVzdWx0WzBdO1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpO1xuICAgICAgICAvLyB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHZhciBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShkYXRhLnJlc3VsdFsxXSksIHNoYXBlWzFdLCBzaGFwZVswXSk7XG4gICAgICAgIC8vIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNwcm9jZXNzaW5nJykuc2hvdygpO1xuICAgIHZhciBpbnRlcnZhbElEID0gc2V0VGltZW91dChjaGVja1RyYW5zZmVyU3RhdHVzLCA1MDAwKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyU3RhdHVzKCkge1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL2FwaS9jaGVja1RyYW5zZmVyU3RhdHVzJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICQoJyNwcm9jZXNzaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5yZXN1bHRbMF07XG5cbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgICAgIGltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRhdGEucmVzdWx0WzFdKSwgc2hhcGVbMV0sIHNoYXBlWzBdKTtcbiAgICAgICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShkYXRhKSB7XG4gICAgICAgICAgLy8gc2NoZWR1bGUgdGhlIG5leHQgcmVxdWVzdCAqb25seSogd2hlbiB0aGUgY3VycmVudCBvbmUgaXMgY29tcGxldGU6XG4gICAgICAgICAgaWYgKGltYWdlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW50ZXJ2YWxJRCk7XG4gICAgICAgICAgICBpbWFnZURhdGEgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrVHJhbnNmZXJTdGF0dXMsIDUwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pOyJdfQ==
